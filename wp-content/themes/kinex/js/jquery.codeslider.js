/***************************************************************************
	Script		: Code Slider
	Version		: 1.0
	Authors		: Codestar
	Licence		: Commercial - MIT Licence
	
	(c) 2011 - 2011 Codestar <http://www.codestarlive.com>
***************************************************************************/
(function(a){a.fn.codeslider=function(b){this.settings=a.extend({},this.defaults,b);var c=this.settings.speed;var d=this.settings.autoplay;var e=this.settings.buttons;var f=this.settings.width;var g=this.settings.height;a(this).each(function(){var b="#"+a(this).attr("id");var h=0;var i=0;var j=10;var k=a(b).find("ul:first li").length;if(k>1){a(b).find(".csliders ul").after('<div class="prev"></div><div class="next"></div>');a(b).find(".next, .prev").css("top",a(this).height()/2-j);var l='<div class="n"><ul>';for(var m=0;m<k;m++){l+="<li></li>"}l+="</ul></div>";a(b).find(".csliders").after(l)}a(b).find(".csliders").find("iframe, object, embed").each(function(){var b=a(this).attr("src");a(this).attr("src",b+"?wmode=transparent").attr("wmode","transparent")});a(b).find(".n li:first").addClass("active");var n=function(b){var c=a(b).find(".n li").index(a(b).find(".n li.active"));var d=a(b).find(".csliders li").index($cslide);if(c!=d){a(b).find(".n li.active").removeClass("active");a(b).find(".csliders li").hide();a(b).find(".csliders li.current").show().removeClass("current").css({position:"absolute","z-index":"0"});$cslide.addClass("current").css({position:"absolute","z-index":"1"}).hide().fadeIn();$cnum.addClass("active")}};var o=function(b,c){$cnum=a(b).find(".n li.active").next();$cslide=a(b).find(".csliders li.current").next();if($cnum.length==0){$cnum=a(b).find(".n li:first");$cslide=a(b).find(".csliders li:first")}if(c!=false){n(b)}};a(b).find(".n li").click(function(){$cnum=a(this);var e=a(b).find(".n li").index(this);$cslide=a(b).find(".csliders li:eq("+e+")");clearInterval(i);i=setInterval(function(){o(b,d)},c);n(b);return false});a(b).find(".next").click(function(){a(b).find(".n li").length-1!=h?h=h+1:h=0;$cnum=a(b).find(".n li:eq("+h+")");$cslide=a(b).find(".csliders li:eq("+h+")");clearInterval(i);i=setInterval(function(){o(b,d)},c);n(b);return false});a(b).find(".prev").click(function(){h!=0?h=h-1:h=a(b).find(".n li").length-1;$cnum=a(b).find(".n li:eq("+h+")");$cslide=a(b).find(".csliders li:eq("+h+")");clearInterval(i);i=setInterval(function(){o(b,d)},c);n(b);return false});var p=a(b).find(".csliders li:first img").attr("src");if(p==undefined){p="images/blank.gif"}var q=new Image;a(q).load(function(){if(e!=false){a(b).find(".n").css("display","block")}a(b).find(".csliders").css({"background-image":"none",width:f,height:g});a(b).find(".csliders li:first").addClass("current").hide().fadeIn("fast");a(b).find(".csliders").hover(function(){clearInterval(i);a(b).find(".next, .prev").fadeIn("fast")},function(){clearInterval(i);i=setInterval(function(){o(b,d)},c);a(b).find(".next, .prev").fadeOut("fast")});i=setInterval(function(){o(b,d)},c)}).attr("src",p)})}})(jQuery);